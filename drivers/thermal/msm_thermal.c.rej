--- drivers/thermal/msm_thermal.c	2017-03-12 21:44:09.000000000 -0500
+++ drivers/thermal/msm_thermal.c	2017-05-08 21:34:59.000000000 -0500
@@ -1937,7 +1937,9 @@
 low_wmark_func(struct work_struct *dummy)
 {
 	reset_low_wmark_max_freq();
+	if (freq_mitigation_task) {
 	complete(&freq_mitigation_complete);
+	}
 	if (low_wmark_max_freq) {
 		schedule_delayed_work(&low_wmark_work, WMARD_DELAY);
 	}
@@ -1965,7 +1967,9 @@
 		return -EINVAL;
 	low_wmark_max_freq = max;
 	low_wmark_max_freq_jiffies = jiffies;
+	if (freq_mitigation_task) {
 	complete(&freq_mitigation_complete);
+	}
 	schedule_delayed_work(&low_wmark_work, WMARD_DELAY);
 	return count;
 }
